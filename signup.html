<!DOCTYPE html>
<html>
<head>
  <title>Create Account</title>

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-app.js";
    import { 
      getAuth, 
      createUserWithEmailAndPassword,
      sendEmailVerification 
      import { 
  GoogleAuthProvider, 
  signInWithPopup,
  RecaptchaVerifier,
  signInWithPhoneNumber
} from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-auth.js";
    import { getFirestore, doc, setDoc } from "https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyDmUL2bFsNdyBbTWMrnY-yaKI8hAWqLynI",
      authDomain: "real-estate-investment-360d2.firebaseapp.com",
      projectId: "real-estate-investment-360d2",
      storageBucket: "real-estate-investment-360d2.firebasestorage.app",
      messagingSenderId: "459495660687",
      appId: "1:459495660687:web:c99b6738f0644d9c7364fa",
      measurementId: "G-4GK8MTNT7L"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    window.signup = async function () {
      const email = document.getElementById("email").value;
      const password = document.getElementById("password").value;
      const confirmPassword = document.getElementById("confirmPassword").value;
      const fullName = document.getElementById("name").value;
      const button = document.getElementById("signupBtn");

      if (password !== confirmPassword) {
        alert("Passwords do not match");
        return;
      }

      try {
        button.innerText = "Creating Account...";
        button.disabled = true;

        const userCredential = await createUserWithEmailAndPassword(auth, email, password);
        const user = userCredential.user;

        await setDoc(doc(db, "users", user.uid), {
          fullName: fullName,
          email: email,
          balance: 0,
          createdAt: new Date()
        });

        await sendEmailVerification(user);

        alert("Account created! Please verify your email before logging in.");

        window.location.href = "login.html";

      } catch (error) {
        alert(error.message);
      } finally {
        button.innerText = "Sign Up";
        button.disabled = false;
      }
    };
  </script>

  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Inter',sans-serif; }

    body {
      height:100vh;
      background:linear-gradient(-45deg,#0f172a,#1e293b,#0f172a);
      background-size:400% 400%;
      animation:gradientMove 12s ease infinite;
    }

    @keyframes gradientMove {
      0%{background-position:0% 50%;}
      50%{background-position:100% 50%;}
      100%{background-position:0% 50%;}
    }

    .wrapper { display:flex; height:100vh; }

    .left {
      flex:1; color:white; padding:60px;
      display:flex; flex-direction:column; justify-content:center;
    }

    .left h1 { font-size:42px; margin-bottom:10px; }
    .left p { opacity:0.8; margin-bottom:40px; }

    .left div { margin-bottom:15px; opacity:0.85; }

    .right {
      flex:1; display:flex; justify-content:center; align-items:center;
    }

    .card {
      width:400px; padding:40px;
      background:rgba(30,41,59,0.85);
      backdrop-filter:blur(14px);
      border-radius:18px;
      box-shadow:0 25px 50px rgba(0,0,0,0.4);
    }

    h2 { color:white; margin-bottom:25px; text-align:center; }

    input {
      width:100%; padding:12px; margin-bottom:15px;
      border-radius:8px; border:none;
      background:#0f172a; color:white;
    }

    input::placeholder { color:#94a3b8; }

    .strength {
      font-size:12px;
      margin-bottom:15px;
    }

    .password-wrapper { position:relative; }

    .password-wrapper span {
      position:absolute; right:12px; top:12px; cursor:pointer;
    }

    button {
      width:100%; padding:12px;
      border:none; border-radius:8px;
      background:#10b981; color:white;
      font-weight:600; cursor:pointer;
      transition:0.3s ease;
    }

    button:hover {
      transform:translateY(-2px);
      box-shadow:0 10px 20px rgba(16,185,129,0.4);
    }

    @media(max-width:900px){
      .left{display:none;}
      .wrapper{justify-content:center;}
    }
  </style>
</head>

<body>

<div class="wrapper">

  <div class="left">
    <h1>FintechPro</h1>
    <p>Build wealth with confidence.</p>
    <div>‚úî Secure account protection</div>
    <div>‚úî Real-time tracking</div>
    <div>‚úî Advanced financial tools</div>
  </div>

  <div class="right">
    <div class="card">
      <h2>Create Investment Account</h2>

      <input type="text" id="name" placeholder="Full Name">
      <input type="email" id="email" placeholder="Email">

      <div class="password-wrapper">
        <input type="password" id="password" placeholder="Password" onkeyup="checkStrength()">
        <span onclick="togglePassword()">üëÅ</span>
      </div>

      <div class="strength" id="strengthText"></div>

      <input type="password" id="confirmPassword" placeholder="Confirm Password">

      <button id="signupBtn" onclick="signup()">Sign Up</button>
    </div>
  </div>

</div>

<script>
function togglePassword() {
  const input = document.getElementById("password");
  input.type = input.type === "password" ? "text" : "password";
}

function checkStrength() {
  const password = document.getElementById("password").value;
  const strengthText = document.getElementById("strengthText");

  if (password.length < 6) {
    strengthText.innerHTML = "Weak password";
    strengthText.style.color = "red";
  } else if (password.match(/[A-Z]/) && password.match(/[0-9]/)) {
    strengthText.innerHTML = "Strong password";
    strengthText.style.color = "lime";
  } else {
    strengthText.innerHTML = "Medium strength";
    strengthText.style.color = "orange";
  }
}
</script>

</body>
</html>